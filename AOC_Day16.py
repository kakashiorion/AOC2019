origSignal='59709275180991144553584971145772909665510077889137728108418335914621187722143499835763391833539113913245874471724316543318206687063884235599476032241946131415288903315838365933464260961288979081653450180693829228376307468452214424448363604272171578101049695177870848804768766855959460302410160410252817677019061157656381257631671141130695064999297225192441065878259341014746742840736304437968599872885714729499069286593698777113907879332554209736653679474028316464493192062972874319626623316763537266681767610340623614648701699868901159785995894014509520642548386447251984766543776759949169049134947575625384064448900019906754502662096668908517457172'
origPattern=[0,1,0,-1]

signal='59709275180991144553584971145772909665510077889137728108418335914621187722143499835763391833539113913245874471724316543318206687063884235599476032241946131415288903315838365933464260961288979081653450180693829228376307468452214424448363604272171578101049695177870848804768766855959460302410160410252817677019061157656381257631671141130695064999297225192441065878259341014746742840736304437968599872885714729499069286593698777113907879332554209736653679474028316464493192062972874319626623316763537266681767610340623614648701699868901159785995894014509520642548386447251984766543776759949169049134947575625384064448900019906754502662096668908517457172'
signalLength=len(signal)

# for y in range(100):
#     basePattern=[0,1,0,-1]
#     newSignal=''
#     for t in range(signalLength):
#         i=1
#         digit=0
#         for x in signal:
#             digit+=int(x)*basePattern[i]
#             if i==len(basePattern)-1:
#                 i=0
#             else:
#                 i+=1
#         digit = abs(digit) % 10
#         newSignal=newSignal+str(digit)

#         j=0
#         newPattern=basePattern.copy()
#         for k in origPattern:
#             newPattern.insert(j,k)
#             j+=t+2
#         basePattern=newPattern
    
#     signal = newSignal

#Part 1
#print(signal)
#15841929

#Part 2
messageOffset=int(origSignal[:7])
i=messageOffset-100

signal='59709275180991144553584971145772909665510077889137728108418335914621187722143499835763391833539113913245874471724316543318206687063884235599476032241946131415288903315838365933464260961288979081653450180693829228376307468452214424448363604272171578101049695177870848804768766855959460302410160410252817677019061157656381257631671141130695064999297225192441065878259341014746742840736304437968599872885714729499069286593698777113907879332554209736653679474028316464493192062972874319626623316763537266681767610340623614648701699868901159785995894014509520642548386447251984766543776759949169049134947575625384064448900019906754502662096668908517457172'
for n in range(9999):
    signal=signal+origSignal
signalLength=len(signal)

while(i<messageOffset):
    digit=0
    trimmedSignal=''
    for k in range(signalLength-1,i-1,-1):
        digit = (digit + int(signal[k])) % 10
        trimmedSignal=str(digit)+trimmedSignal

    signal=signal[:i]
    signal = signal+trimmedSignal
    i+=1
    print(i)

print(signal[messageOffset:messageOffset+8])
#print(signalLength)
#39011547